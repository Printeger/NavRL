# ============================================
# TASLAB UAV 无人机配置文件
# ============================================
# 请根据实际测量值修改以下参数
# 所有单位均为 SI 国际单位制

name: taslab_uav

# ==================== 惯性参数 ====================
# 惯性张量 (kg·m²)
# 测量方法: CAD软件计算 / 摆动实验法 / 双线摆实验
# 注意: 对于 1.2kg 的无人机，惯量应该比 0.716kg 的 Hummingbird 更大
# 经验公式: I ≈ (1/12) × m × L² (对于均匀分布的质量)
inertia:
  xx: 0.012     # 绕X轴(前后)转动惯量 - 增大以匹配质量
  xy: 0.0       # 惯性积 (对称结构通常为0)
  xz: 0.0
  yy: 0.012     # 绕Y轴(左右)转动惯量 - 增大以匹配质量
  yz: 0.0
  zz: 0.020     # 绕Z轴(上下)转动惯量 - Z轴通常更大

# 总质量 (kg) - 包含电池
mass: 1.2     # TODO: 替换为实测值 (使用电子秤称量)

# 轴距/对角线长度 (m)
l: 0.34         # TODO: 替换为实测值

# 空气阻力系数 (s⁻¹)
# 典型值: 小型0.1-0.2, 中型0.2-0.3, 大型0.3-0.5
drag_coef: 0.2  # TODO: 根据实际情况调整

# ==================== 电机/螺旋桨配置 ====================
rotor_configuration:
  # 旋翼数量
  num_rotors: 4
  
  # 每个电机到质心的距离 (m)
  # 测量方法: 卡尺测量电机中心到机体中心距离
  arm_lengths:
  - 0.17        # 电机0 (前/右前) - TODO: 替换为实测值
  - 0.17        # 电机1 (左/左前) - TODO: 替换为实测值
  - 0.17        # 电机2 (后/左后) - TODO: 替换为实测值
  - 0.17        # 电机3 (右/右后) - TODO: 替换为实测值
  
  # 电机相对于X轴(前进方向)的角度 (rad)
  # +型布局: [0, π/2, π, -π/2]
  # X型布局: [π/4, 3π/4, -3π/4, -π/4]
  rotor_angles:
  # - 0                 # 电机0: 0° (前)
  # - 1.57079632679     # 电机1: 90° (左)
  # - 3.14159265359     # 电机2: 180° (后)
  # - -1.57079632679    # 电机3: -90° (右)
    - 0.78539816
    - 2.35619449
    - 3.92699082
    - 5.49778714
  
  # 旋转方向 (-1=顺时针CW, +1=逆时针CCW)
  # 相邻电机方向相反以平衡偏航力矩
  directions:
  - -1.0        # 电机0: CW
  - 1.0         # 电机1: CCW
  - -1.0        # 电机2: CW
  - 1.0         # 电机3: CCW
  
  # 推力系数 KF (N/(rad/s)²)
  # 公式: F = KF × ω²
  # 测量方法: 推力台测试 或 悬停法 KF = (m×g)/(4×ω_hover²)
  force_constants:
  - 8.54858e-06   # TODO: 替换为实测值
  - 8.54858e-06
  - 8.54858e-06
  - 8.54858e-06
  
  # 力矩系数 KM (N·m/(rad/s)²)
  # 公式: M = KM × ω²
  # 估算方法: KM ≈ KF × 0.015 (经验值范围 0.01-0.02)
  moment_constants:
  - 1.3677728816219314e-07    # TODO: 替换为实测值
  - 1.3677728816219314e-07
  - 1.3677728816219314e-07
  - 1.3677728816219314e-07
  
  # 最大转速 (rad/s)
  # 转换公式: ω = RPM × 2π / 60
  # 例如: 8000 RPM ≈ 838 rad/s
  max_rotation_velocities:
  - 838          # TODO: 替换为实测值或电机规格
  - 838
  - 838
  - 838
